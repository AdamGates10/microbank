(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0af50a"],{"0e98":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-row",[a("v-col",[a("v-card",{attrs:{elevation:"2",tile:""}},[a("v-sheet",{attrs:{height:"64"}},[a("v-toolbar",{attrs:{flat:""}},[a("v-btn",{staticClass:"mr-4 font-weight-bold",attrs:{color:"primary"},on:{click:t.addTransaction}},[t._v(" New transaction ")]),a("v-btn",{staticClass:"mr-4",attrs:{outlined:"",color:"grey darken-2"},on:{click:t.setToday}},[t._v(" Today ")]),a("v-btn",{attrs:{fab:"",text:"",small:"",color:"grey darken-2"},on:{click:t.prev}},[a("v-icon",[t._v(" mdi-chevron-left ")])],1),a("v-btn",{staticClass:"mr-4",attrs:{fab:"",text:"",small:"",color:"grey darken-2"},on:{click:t.next}},[a("v-icon",[t._v(" mdi-chevron-right ")])],1),t.$refs.calendar?a("v-toolbar-title",[t._v(" "+t._s(t.$refs.calendar.title)+" ")]):t._e(),a("v-spacer"),a("v-menu",{attrs:{bottom:"",right:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,o=e.attrs;return[a("v-btn",t._g(t._b({attrs:{outlined:"",color:"grey darken-2"}},"v-btn",o,!1),n),[a("span",[t._v(t._s(t.typeToLabel[t.type]))]),a("v-icon",{attrs:{right:""}},[t._v(" mdi-menu-down ")])],1)]}}])},[a("v-list",[a("v-list-item",{on:{click:function(e){t.type="day"}}},[a("v-list-item-title",[t._v("Day")])],1),a("v-list-item",{on:{click:function(e){t.type="week"}}},[a("v-list-item-title",[t._v("Week")])],1),a("v-list-item",{on:{click:function(e){t.type="month"}}},[a("v-list-item-title",[t._v("Month")])],1),a("v-list-item",{on:{click:function(e){t.type="4day"}}},[a("v-list-item-title",[t._v("4 days")])],1)],1)],1)],1)],1),a("v-sheet",{attrs:{height:"580"}},[a("v-calendar",{ref:"calendar",attrs:{color:"primary",events:t.events,"event-color":t.getEventColor,type:t.type},on:{"click:event":t.showEvent,"click:more":t.viewDay,"click:date":t.viewDay,change:t.getEvents},model:{value:t.focus,callback:function(e){t.focus=e},expression:"focus"}}),a("v-menu",{attrs:{"close-on-content-click":!1,activator:t.selectedElement,"offset-x":""},model:{value:t.selectedOpen,callback:function(e){t.selectedOpen=e},expression:"selectedOpen"}},[a("v-card",{attrs:{"min-width":"350px",flat:""}},[a("v-toolbar",{attrs:{color:t.selectedEvent.color,dark:""}},[a("v-toolbar-title",{domProps:{innerHTML:t._s(""+t.selectedEvent.name)}}),a("v-spacer")],1),a("v-card-text",[t.selectedEvent.details?a("v-simple-table",[a("thead",[a("tr",[a("td",[t._v("Name")]),a("td",[t._v(t._s(t.selectedEvent.account_name))])])]),a("tbody",[a("tr",[a("th",[t._v("Debit")]),a("td",[t._v(" "+t._s("GH₵ "+parseFloat(t.selectedEvent.details.debit).toFixed(2))+" ")])]),a("tr",[a("th",[t._v("Credit")]),a("td",[t._v(" "+t._s("GH₵ "+parseFloat(t.selectedEvent.details.credit).toFixed(2))+" ")])]),a("tr",[a("th",[t._v("Balance")]),a("td",[t._v(" "+t._s("GH₵ "+parseFloat(t.selectedEvent.details.balance).toFixed(2))+" ")])]),a("tr",[a("th",[t._v("Date")]),a("td",[t._v(" "+t._s(t.moment(t.selectedEvent.details.debit.created_at).format("MMMM Do YYYY, h:mm:ss a"))+" ")])])])]):t._e()],1),a("v-card-actions",[a("v-btn",{attrs:{color:"error",text:""},on:{click:function(e){t.selectedOpen=!1}}},[a("b",[t._v("Close")])])],1)],1)],1)],1)],1)],1)],1),a("v-navigation-drawer",{staticClass:"shadow",attrs:{"overlay-color":"black",fixed:"",permanent:t.openTransaction,right:"",width:"40%",clipped:""},model:{value:t.openTransaction,callback:function(e){t.openTransaction=e},expression:"openTransaction"}},[a("div",{staticClass:"mt-15 d-flex justify-space-between"},[a("v-spacer"),a("v-btn",{staticClass:"ma-2",attrs:{icon:"",to:"/transaction_management/record"},on:{click:function(e){t.openTransaction=!t.openTransaction}}},[a("v-icon",[t._v("mdi-close-circle")])],1)],1),t.openTransaction?a("Record"):t._e()],1)],1)},o=[],c=a("5530"),r=(a("ac1f"),a("5319"),a("d3b7"),a("159b"),a("25f0"),a("99af"),a("b0c0"),a("ed09")),s=a("c1df"),i=a.n(s),l=a("4914"),v=a("8d7e"),d=a("1fac"),u=Object(r["c"])({components:{Record:l["default"]},setup:function(t,e){var a=Object(v["a"])(["monthlyTransaction"]),n=a.monthlyTransaction,o=Object(v["b"])(["getters_monthly_transactions","getters_transaction"]),s=o.getters_monthly_transactions,l=o.getters_transaction,u=Object(r["h"])({today:(new Date).toISOString().substr(0,10),focus:(new Date).toISOString().substr(0,10),type:"month",typeToLabel:{month:"Month",week:"Week",day:"Day","4day":"4 Days"},selectedEvent:{},selectedElement:null,selectedOpen:!1,events:[],openTransaction:!1,mode:"stack",modes:["stack","column"],items:[]}),m=Object(r["j"])(u),f=m.events,p=m.focus,_=m.selectedEvent,h=m.selectedElement,b=m.selectedOpen,y=m.type,k=m.openTransaction,g=m.items,w=function(t){return t.color},T=function(){p.value=""},E=function(){e.refs.calendar.prev()},D=function(){e.refs.calendar.next()},Y=function(t){var e=t.nativeEvent,a=t.event,n=function(){_.value=a,h.value=e.target,requestAnimationFrame((function(){return requestAnimationFrame((function(){return b.value=!0}))}))};b.value?(b.value=!1,requestAnimationFrame((function(){return requestAnimationFrame((function(){return n()}))}))):n(),e.stopPropagation()},x=function(){k.value=!0,e.root._router.replace({path:"/transaction_management/record/:/addtransaction"})},O=function(t){var e=t.date;p.value=e,y.value="day"},M=function(t){var a=t.start,o=t.end;n({start:new Date("".concat(a.date,"T00:00:00")),end:new Date("".concat(o.date,"T23:59:59"))}).then((function(){switch(g.value=[],s.value.forEach((function(t){g.value.push({name:" ".concat(t.account_number.toString()," "),start:i()(t.created_at).format("YYYY-MM-DD hh:mm"),end:i()(t.created_at).format("YYYY-MM-DD hh:mm"),color:t.credit>0?"primary":"error",details:t,account_name:"".concat(t.customer.other_names,"  ").concat(t.customer.last_name),timed:!0})})),e.root.$route.name){case"AddTransaction":k.value=!0;break}f.value=g}))};return d["a"].on("savedTransaction",(function(t){t&&g.value.push({name:" ".concat(l.value.account_number.toString()," "),start:i()(l.value.created_at).format("YYYY-MM-DD hh:mm"),end:i()(l.value.created_at).format("YYYY-MM-DD hh:mm"),color:l.value.credit>0?"primary":"error",details:l.value,account_name:"".concat(l.value.customer.other_names,"  ").concat(l.value.customer.last_name),timed:!0})})),Object(c["a"])(Object(c["a"])({},Object(r["j"])(u)),{},{viewDay:O,showEvent:Y,setToday:T,prev:E,next:D,getEventColor:w,getEvents:M,addTransaction:x})}}),m=u,f=a("2877"),p=Object(f["a"])(m,n,o,!1,null,null,null);e["default"]=p.exports}}]);
//# sourceMappingURL=chunk-2d0af50a.fbbe747c.js.map