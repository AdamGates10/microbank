(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-55c3370b"],{"00b4":function(t,e,r){"use strict";r("ac1f");var n=r("23e7"),a=r("da84"),o=r("c65b"),i=r("e330"),s=r("1626"),c=r("861d"),u=function(){var t=!1,e=/[ac]/;return e.exec=function(){return t=!0,/./.exec.apply(this,arguments)},!0===e.test("abc")&&t}(),l=a.Error,v=i(/./.test);n({target:"RegExp",proto:!0,forced:!u},{test:function(t){var e=this.exec;if(!s(e))return v(this,t);var r=o(e,this,t);if(null!==r&&!c(r))throw new l("RegExp exec method returned something other than an Object or null");return!!r}})},"1fac":function(t,e,r){"use strict";var n=function(t){return{all:t=t||new Map,on:function(e,r){var n=t.get(e);n?n.push(r):t.set(e,[r])},off:function(e,r){var n=t.get(e);n&&(r?n.splice(n.indexOf(r)>>>0,1):t.set(e,[]))},emit:function(e,r){var n=t.get(e);n&&n.slice().map((function(t){t(r)})),(n=t.get("*"))&&n.slice().map((function(t){t(e,r)}))}}},a=n();e["a"]=a},2909:function(t,e,r){"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function a(t){if(Array.isArray(t))return n(t)}r.d(e,"a",(function(){return c}));r("a4d3"),r("e01a"),r("d3b7"),r("d28b"),r("3ca3"),r("ddb0"),r("a630");function o(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}r("fb6a"),r("b0c0"),r("ac1f"),r("00b4");function i(t,e){if(t){if("string"===typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t){return a(t)||o(t)||i(t)||s()}},"35aa":function(t,e,r){"use strict";r("61d2")},3661:function(t,e,r){},"4df4":function(t,e,r){"use strict";var n=r("da84"),a=r("0366"),o=r("c65b"),i=r("7b0b"),s=r("9bdd"),c=r("e95a"),u=r("68ee"),l=r("07fa"),v=r("8418"),d=r("9a1f"),m=r("35a1"),f=n.Array;t.exports=function(t){var e=i(t),r=u(this),n=arguments.length,b=n>1?arguments[1]:void 0,p=void 0!==b;p&&(b=a(b,n>2?arguments[2]:void 0));var _,g,h,y,x,w,C=m(e),k=0;if(!C||this==f&&c(C))for(_=l(e),g=r?new this(_):f(_);_>k;k++)w=p?b(e[k],k):e[k],v(g,k,w);else for(y=d(e,C),x=y.next,g=r?new this:[];!(h=o(x,y)).done;k++)w=p?s(y,b,[h.value,k],!0):h.value,v(g,k,w);return g.length=k,g}},6062:function(t,e,r){"use strict";var n=r("6d61"),a=r("6566");n("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),a)},"61d2":function(t,e,r){},6566:function(t,e,r){"use strict";var n=r("9bf2").f,a=r("7c73"),o=r("e2cc"),i=r("0366"),s=r("19aa"),c=r("2266"),u=r("7dd0"),l=r("2626"),v=r("83ab"),d=r("f183").fastKey,m=r("69f3"),f=m.set,b=m.getterFor;t.exports={getConstructor:function(t,e,r,u){var l=t((function(t,n){s(t,m),f(t,{type:e,index:a(null),first:void 0,last:void 0,size:0}),v||(t.size=0),void 0!=n&&c(n,t[u],{that:t,AS_ENTRIES:r})})),m=l.prototype,p=b(e),_=function(t,e,r){var n,a,o=p(t),i=g(t,e);return i?i.value=r:(o.last=i={index:a=d(e,!0),key:e,value:r,previous:n=o.last,next:void 0,removed:!1},o.first||(o.first=i),n&&(n.next=i),v?o.size++:t.size++,"F"!==a&&(o.index[a]=i)),t},g=function(t,e){var r,n=p(t),a=d(e);if("F"!==a)return n.index[a];for(r=n.first;r;r=r.next)if(r.key==e)return r};return o(m,{clear:function(){var t=this,e=p(t),r=e.index,n=e.first;while(n)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete r[n.index],n=n.next;e.first=e.last=void 0,v?e.size=0:t.size=0},delete:function(t){var e=this,r=p(e),n=g(e,t);if(n){var a=n.next,o=n.previous;delete r.index[n.index],n.removed=!0,o&&(o.next=a),a&&(a.previous=o),r.first==n&&(r.first=a),r.last==n&&(r.last=o),v?r.size--:e.size--}return!!n},forEach:function(t){var e,r=p(this),n=i(t,arguments.length>1?arguments[1]:void 0);while(e=e?e.next:r.first){n(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(t){return!!g(this,t)}}),o(m,r?{get:function(t){var e=g(this,t);return e&&e.value},set:function(t,e){return _(this,0===t?0:t,e)}}:{add:function(t){return _(this,t=0===t?0:t,t)}}),v&&n(m,"size",{get:function(){return p(this).size}}),l},setStrong:function(t,e,r){var n=e+" Iterator",a=b(e),o=b(n);u(t,e,(function(t,e){f(this,{type:n,target:t,state:a(t),kind:e,last:void 0})}),(function(){var t=o(this),e=t.kind,r=t.last;while(r&&r.removed)r=r.previous;return t.target&&(t.last=r=r?r.next:t.state.first)?"keys"==e?{value:r.key,done:!1}:"values"==e?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),r?"entries":"values",!r,!0),l(e)}}},"67b4":function(t,e,r){"use strict";r("3661")},6868:function(t,e,r){},"6d61":function(t,e,r){"use strict";var n=r("23e7"),a=r("da84"),o=r("e330"),i=r("94ca"),s=r("6eeb"),c=r("f183"),u=r("2266"),l=r("19aa"),v=r("1626"),d=r("861d"),m=r("d039"),f=r("1c7e"),b=r("d44e"),p=r("7156");t.exports=function(t,e,r){var _=-1!==t.indexOf("Map"),g=-1!==t.indexOf("Weak"),h=_?"set":"add",y=a[t],x=y&&y.prototype,w=y,C={},k=function(t){var e=o(x[t]);s(x,t,"add"==t?function(t){return e(this,0===t?0:t),this}:"delete"==t?function(t){return!(g&&!d(t))&&e(this,0===t?0:t)}:"get"==t?function(t){return g&&!d(t)?void 0:e(this,0===t?0:t)}:"has"==t?function(t){return!(g&&!d(t))&&e(this,0===t?0:t)}:function(t,r){return e(this,0===t?0:t,r),this})},j=i(t,!v(y)||!(g||x.forEach&&!m((function(){(new y).entries().next()}))));if(j)w=r.getConstructor(e,t,_,h),c.enable();else if(i(t,!0)){var O=new w,A=O[h](g?{}:-0,1)!=O,T=m((function(){O.has(1)})),S=f((function(t){new y(t)})),M=!g&&m((function(){var t=new y,e=5;while(e--)t[h](e,e);return!t.has(-0)}));S||(w=e((function(t,e){l(t,x);var r=p(new y,t,w);return void 0!=e&&u(e,r[h],{that:r,AS_ENTRIES:_}),r})),w.prototype=x,x.constructor=w),(T||M)&&(k("delete"),k("has"),_&&k("get")),(M||A)&&k(h),g&&x.clear&&delete x.clear}return C[t]=w,n({global:!0,forced:w!=y},C),b(w,t),g||r.setStrong(w,t,_),w}},7156:function(t,e,r){var n=r("1626"),a=r("861d"),o=r("d2bb");t.exports=function(t,e,r){var i,s;return o&&n(i=e.constructor)&&i!==r&&a(s=i.prototype)&&s!==r.prototype&&o(t,s),t}},"99af":function(t,e,r){"use strict";var n=r("23e7"),a=r("da84"),o=r("d039"),i=r("e8b5"),s=r("861d"),c=r("7b0b"),u=r("07fa"),l=r("8418"),v=r("65f0"),d=r("1dde"),m=r("b622"),f=r("2d00"),b=m("isConcatSpreadable"),p=9007199254740991,_="Maximum allowed index exceeded",g=a.TypeError,h=f>=51||!o((function(){var t=[];return t[b]=!1,t.concat()[0]!==t})),y=d("concat"),x=function(t){if(!s(t))return!1;var e=t[b];return void 0!==e?!!e:i(t)},w=!h||!y;n({target:"Array",proto:!0,forced:w},{concat:function(t){var e,r,n,a,o,i=c(this),s=v(i,0),d=0;for(e=-1,n=arguments.length;e<n;e++)if(o=-1===e?i:arguments[e],x(o)){if(a=u(o),d+a>p)throw g(_);for(r=0;r<a;r++,d++)r in o&&l(s,d,o[r])}else{if(d>=p)throw g(_);l(s,d++,o)}return s.length=d,s}})},"9bdd":function(t,e,r){var n=r("825a"),a=r("2a62");t.exports=function(t,e,r,o){try{return o?e(n(r)[0],r[1]):e(r)}catch(i){a(t,"throw",i)}}},a630:function(t,e,r){var n=r("23e7"),a=r("4df4"),o=r("1c7e"),i=!o((function(t){Array.from(t)}));n({target:"Array",stat:!0,forced:i},{from:a})},ae65:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{fluid:""}},[t.response?[t.customer?r("v-card",{attrs:{tile:"",flat:""}},[r("v-card-text",[r("v-row",{attrs:{align:"center"}},[r("v-col",{attrs:{cols:"12",lg:"6"}},[r("v-breadcrumbs",{staticClass:"pl-0",attrs:{large:"",items:t.breadcrumbs}})],1)],1),r("v-row",{attrs:{align:"center"}},[r("v-col",{attrs:{cols:"12",lg:"5"}},[r("v-avatar",{attrs:{size:"250",tile:""}},[r("img",{attrs:{src:t.customer.avatar_url,alt:""}})])],1),r("v-col",{attrs:{cols:"12",lg:"7"}},[r("v-list",{staticClass:"pt-0"},[r("v-list-item",{staticClass:"text-h4",domProps:{textContent:t._s(t.customer.other_names+" "+t.customer.last_name)}}),r("v-list-item",[r("v-list-item-icon",[r("v-icon",[t._v(" mdi-calendar-account-outline ")])],1),r("v-list-item-content",[r("v-list-item-title",{domProps:{innerHTML:t._s(""+t.moment(t.customer.dob).format("Do MMMM YYYY"))}})],1)],1),r("v-list-item",[r("v-list-item-icon",[r("v-icon",[t._v(" mdi-home-map-marker ")])],1),r("v-list-item-content",[r("v-list-item-title",{domProps:{innerHTML:t._s(""+t.customer.address)}})],1)],1),r("v-list-item",[r("v-list-item-icon",[r("v-icon",[t._v(" mdi-phone ")])],1),r("v-list-item-content",[r("v-list-item-title",[r("span",[t._v(" "+t._s(t.customer.mobile_number_1)+" ")]),t.customer.mobile_number_2?r("span",[t._v(" "+t._s(t.customer.mobile_number_2)+" ")]):t._e()])],1)],1),r("v-list-item",[r("v-list-item-icon",[r("v-icon",[t._v(" mdi-account-plus-outline ")])],1),r("v-list-item-content",[r("v-list-item-title",[r("span",[t._v(" "+t._s(t.customer.staff.name)+" ")])])],1)],1)],1)],1)],1)],1),r("v-tabs",{attrs:{"align-with-title":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[t._l(t.tabItems,(function(e){return r("v-tab",{key:e},[t._v(" "+t._s(e)+" ")])})),r("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[r("v-tab-item",[r("UserDetails",{scopedSlots:t._u([{key:"name",fn:function(){return[t._v(" "+t._s(t.customer.other_names+" "+t.customer.last_name)+" ")]},proxy:!0},{key:"dob",fn:function(){return[t._v(" "+t._s(""+t.moment(t.customer.dob).format("Do MMMM YYYY"))+" ")]},proxy:!0},{key:"address",fn:function(){return[r("div",{staticClass:"text-wrap"},[t._v(" "+t._s(""+t.customer.address)+" ")])]},proxy:!0},{key:"mobile_number",fn:function(){return[r("span",[t._v(" "+t._s(t.customer.mobile_number_1)+" ")]),t.customer.mobile_number_2?r("span",[t._v(" "+t._s(t.customer.mobile_number_2)+" ")]):t._e()]},proxy:!0},{key:"next_of_kin",fn:function(){return[t._v(" "+t._s(""+t.customer.next_of_kin)+" ")]},proxy:!0},{key:"kin_dob",fn:function(){return[t._v(" "+t._s(""+t.moment(t.customer.kin_dob).format("Do MMMM YYYY"))+" ")]},proxy:!0},{key:"kin_mobile_number",fn:function(){return[r("span",[t._v(" "+t._s(t.customer.kin_mobile_number_1)+" ")]),t.customer.kin_mobile_number_2?r("span",[t._v(" "+t._s(t.customer.kin_mobile_number_2)+" ")]):t._e()]},proxy:!0}],null,!1,3327897892)})],1),r("v-tab-item",[r("UserAccount")],1)],1)],2)],1):r("v-alert",{attrs:{prominent:"",type:"error"}},[t._v(" No Customer Found... ")])]:t._e(),r("v-overlay",{attrs:{absolute:"",opacity:"1"},model:{value:t.overlay,callback:function(e){t.overlay=e},expression:"overlay"}},[r("v-progress-circular",{attrs:{size:"64",indeterminate:""}})],1)],2)},a=[],o=r("5530"),i=(r("b0c0"),r("d3b7"),r("99af"),r("ed09")),s=r("8d7e"),c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{fluid:""}},[r("v-simple-table",[r("tbody",[r("tr",[r("td",[t._v("Agent Name")]),r("td",[t._t("agent_name")],2)]),r("tr",[r("td",[t._v("Name")]),r("td",[t._t("name")],2)]),r("tr",[r("td",[t._v("Date of Birth")]),r("td",[t._t("dob")],2)]),r("tr",[r("td",[t._v("Address")]),r("td",[t._t("address")],2)]),r("tr",[r("td",[t._v("Mobile Number")]),r("td",[t._t("mobile_number")],2)]),r("tr",[r("td",[t._v("Next Of Kin")]),r("td",[t._t("next_of_kin")],2)]),r("tr",[r("td",[t._v("Next Of Kin Mobile Number")]),r("td",[t._t("kin_mobile_number")],2)]),r("tr",[r("td",[t._v("Next Of Kin Date of Birth")]),r("td",[t._t("kin_dob")],2)])])])],1)},u=[],l=(r("67b4"),r("2877")),v={},d=Object(l["a"])(v,c,u,!1,null,"439d3d32",null),m=d.exports,f=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{fluid:""}},t._l(t.accounts,(function(e,n){return r("div",{key:"account"+n},[r("v-card",{staticClass:"mb-2",attrs:{tile:"",outlined:"",rounded:"0"}},[r("v-toolbar",{attrs:{color:"primary",dark:"",outlined:"",elevation:"0"}},[r("v-toolbar-title",[t._v(" "+t._s(n)+" Account ")]),r("v-spacer"),r("v-toolbar-title",[t._v(" "+t._s(e.length)+" "+t._s(e.length>1?"Accounts":"Account")+" ")])],1),r("v-card-text",t._l(e,(function(e,a){return r("div",{key:"div"+a},[r("v-list",[r("v-list-item",[r("v-list-item-content",[r("v-card",{attrs:{outlined:""}},[r("v-card-text",[r("v-row",{attrs:{align:"center"}},[r("v-col",[r("v-list-item-title",[t._v("Account Number ")]),r("v-list-item-subtitle",[t._v(" "+t._s(e.acc)+" ")])],1),r("v-col",[r("v-list-item-title",[t._v(" Date Created ")]),r("v-list-item-subtitle",[t._v(" "+t._s(t.moment(e.created).format("Do MMMM YYYY"))+" ")])],1),r("v-col",{staticClass:"text-right",attrs:{cols:"12",lg:"2"}},[r("v-list-item-title",[r("v-btn",{attrs:{"x-large":"",color:"success",icon:""},on:{click:function(r){return t.viewTransaction(e.acc,n)}}},[r("v-icon",{attrs:{"x-large":""}},[t._v("mdi-bank-transfer")])],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)})),0)],1)],1)})),0)},b=[],p=r("1fac"),_=Object(i["c"])({setup:function(){var t=Object(s["b"])(["customer"]),e=t.customer,r=Object(i["h"])({accounts:[],window:0}),n=Object(i["j"])(r),a=n.accounts;Object(i["f"])((function(){a.value=e.value.accounts.reduce((function(t,e){var r=e.account_name;return t[r]||(t[r]=[]),t[r].push({acc:e.customer_account.account_number,created:e.customer_account.created_at}),t}),{})}));var c=function(t,e){p["a"].emit("view-customer-transaction",{number:t,type:e})};return Object(o["a"])(Object(o["a"])({customer:e},Object(i["j"])(r)),{},{viewTransaction:c})}}),g=_,h=(r("eeb3"),Object(l["a"])(g,f,b,!1,null,"10c9a6e0",null)),y=h.exports,x=Object(i["c"])({components:{UserDetails:m,UserAccount:y},setup:function(t,e){var r=Object(s["a"])(["getCustomer"]),n=r.getCustomer,a=Object(s["b"])(["customer"]),c=a.customer,u=Object(i["e"])("customerId"),l=Object(i["h"])({overlay:!0,pageTitle:e.root.$route.name,breadcrumbs:[],tab:null,tabItems:["Customer Details","Account Details"],response:!1}),v=Object(i["j"])(l),d=v.overlay,m=v.breadcrumbs,f=v.response;n(u.value).then((function(){m.value=[{text:"Customer List",disabled:!1,href:"/user_management/customerlist"},{text:"".concat(c.value.other_names," ").concat(c.value.last_name),disabled:!0}]})).finally((function(){d.value=!1,f.value=!0}));var b=function(){};return Object(o["a"])({customer:c,editCustomer:b},Object(i["j"])(l))}}),w=x,C=Object(l["a"])(w,n,a,!1,null,null,null);e["default"]=C.exports},bb2f:function(t,e,r){var n=r("d039");t.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},ccab:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{fluid:""}},[r("PageHeader",[r("span",{staticClass:"font-weight-bold",attrs:{slot:"header"},slot:"header"},[t._v("CUSTOMER ")]),t._v(" LIST ")]),r("v-row",[r("v-col",[r("v-btn",{staticClass:"ma-2 font-weight-bold",attrs:{color:"primary"},on:{click:t.addnewCustomer}},[t._v(" CREATE NEW CUSTOMER ")])],1)],1),r("v-row",[r("v-col",[r("v-data-table",{staticClass:"elevation-2",attrs:{"fixed-header":"",headers:t.headers,items:t.items,loading:t.isLoaded,"item-key":"id","disable-pagination":"","hide-default-footer":""},scopedSlots:t._u([{key:"item.basic",fn:function(e){var n=e.item;return[r("div",{staticClass:"subtitle-1",domProps:{textContent:t._s(n.other_names+" "+n.last_name)}})]}},{key:"item.contact",fn:function(e){var n=e.item;return[r("div",{staticClass:"subtitle-1",domProps:{textContent:t._s(""+n.mobile_number_1)}})]}},{key:"item.actions",fn:function(e){var n=e.item;return[r("v-menu",{attrs:{"offset-y":"","open-on-hover":"",transition:"slide-x-transition",bottom:"",right:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,a=e.attrs;return[r("v-btn",t._g(t._b({attrs:{small:"",outlined:"",color:"grey darken-1"}},"v-btn",a,!1),n),[r("v-icon",[t._v("mdi-dots-horizontal")])],1)]}}],null,!0)},[r("v-list",{staticClass:"py-0",attrs:{dark:"",color:"primary darken-2","min-width":"250",tile:""}},[r("v-list-item-group",[r("v-list-item",{attrs:{link:""},on:{click:function(e){return t.viewCustomerBtn(n)}}},[r("v-list-item-content",[r("v-list-item-title",[t._v("View Customer Details")])],1),r("v-list-item-icon",[r("v-icon",[t._v("mdi-arrow-right")])],1)],1)],1)],1)],1)]}},{key:"no-data",fn:function(){return[r("span",{staticClass:"subheading font-weight-bold"},[t._v("Not available")])]},proxy:!0}])}),t.getters_customers.length?r("v-card",{directives:[{name:"intersect",rawName:"v-intersect",value:t.intersected,expression:"intersected"}]},[t.loadingScroll?r("v-progress-linear",{attrs:{indeterminate:!0}}):t._e()],1):t._e()],1)],1),r("v-navigation-drawer",{staticClass:"shadow",attrs:{"overlay-color":"black",fixed:"",permanent:t.openCustomer,right:"",width:"50%",clipped:""},model:{value:t.openCustomer,callback:function(e){t.openCustomer=e},expression:"openCustomer"}},[r("div",{staticClass:"mt-15 d-flex justify-space-between"},[r("v-spacer"),r("v-btn",{staticClass:"ma-2",attrs:{icon:"",to:"/user_management/customerlist"},on:{click:function(e){return t.closeDrawer()}}},[r("v-icon",[t._v("mdi-close-circle")])],1)],1),!0===t.openCustomer?r("ViewCustomer"):t._e()],1),r("v-navigation-drawer",{staticClass:"shadow",attrs:{fixed:"",permanent:t.editCustomer,right:"",width:"70%",clipped:""},model:{value:t.editCustomer,callback:function(e){t.editCustomer=e},expression:"editCustomer"}},[r("div",{staticClass:"mt-15 d-flex justify-space-between"},[t.basket.length>1?r("v-btn",{staticClass:"ma-2",attrs:{icon:""},on:{click:function(e){t.editCustomer=!t.editCustomer,t.basket.pop()}}},[r("v-icon",[t._v("mdi-arrow-left-bold-circle")])],1):t._e(),r("v-spacer"),r("v-btn",{staticClass:"ma-2",attrs:{icon:""},on:{click:function(e){return t.closeDrawer()}}},[r("v-icon",[t._v("mdi-close-circle")])],1)],1),t.editCustomer?r(t.componentCurrent,{tag:"component"}):t._e()],1),r("v-navigation-drawer",{staticClass:"shadow",attrs:{clipped:"","overlay-color":"black",fixed:"",permanent:t.newCustomer,right:"",width:"70%"},model:{value:t.newCustomer,callback:function(e){t.newCustomer=e},expression:"newCustomer"}},[r("div",{staticClass:"mt-15 d-flex justify-space-between"},[r("v-spacer"),r("v-btn",{staticClass:"ma-2",attrs:{icon:"",to:"/user_management/customerlist"},on:{click:function(e){return t.closeDrawer()}}},[r("v-icon",[t._v("mdi-close-circle")])],1)],1),t.newCustomer?r("NewCustomer"):t._e()],1),r("v-navigation-drawer",{staticClass:"shadow",attrs:{clipped:"","overlay-color":"black",fixed:"",permanent:t.customerTransaction,right:"",width:"50%"},model:{value:t.customerTransaction,callback:function(e){t.customerTransaction=e},expression:"customerTransaction"}},[r("div",{staticClass:"mt-15 d-flex justify-space-between"},[t.basket.length>1?r("v-btn",{staticClass:"ma-2",attrs:{icon:""},on:{click:function(e){t.customerTransaction=!t.customerTransaction,t.basket.pop()}}},[r("v-icon",[t._v("mdi-arrow-left-bold-circle")])],1):t._e(),r("v-spacer"),r("v-btn",{staticClass:"ma-2",attrs:{icon:"",to:"/user_management/customerlist"},on:{click:function(e){return t.closeDrawer()}}},[r("v-icon",[t._v("mdi-close-circle")])],1)],1),t.customerTransaction?r("ViewCustomerTransaction"):t._e()],1)],1)},a=[],o=r("5530"),i=r("2909"),s=(r("d3b7"),r("b0c0"),r("6062"),r("3ca3"),r("ddb0"),r("99af"),r("ac1f"),r("5319"),r("b2cf")),c=r("ae65"),u=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{fluid:""}},[r("v-overlay",{attrs:{absolute:"",value:t.overlay}},[r("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1),t.overlay?t._e():[r("v-toolbar",{attrs:{color:"primary",dark:"",elevation:"1",rounded:""}},[t._v(" "+t._s(t.customer.other_names+" "+t.customer.last_name)+" "),r("v-spacer"),r("span",{domProps:{textContent:t._s(t.currentAccType+" Account")}}),r("v-icon",[t._v("mdi-circle-small")]),r("span",{domProps:{textContent:t._s(""+t.currentAccNumber)}})],1),r("v-row",[r("v-col",[r("v-data-table",{staticClass:"elevation-1",attrs:{tile:"",headers:t.headers,items:t.items,loading:t.isLoaded,"item-key":"id","disable-pagination":"","hide-default-footer":""},scopedSlots:t._u([{key:"item.created_at",fn:function(e){var r=e.value;return[t._v(" "+t._s(t.moment(r).format("Do MMMM YYYY, h:mm:ss a"))+" ")]}},{key:"no-data",fn:function(){return[r("span",{staticClass:"subheading font-weight-bold"},[t._v("Not available")])]},proxy:!0}],null,!1,1907936731)}),t.getters_customer_transaction.length?r("v-card",{directives:[{name:"intersect",rawName:"v-intersect",value:t.intersected,expression:"intersected"}]},[t.loadingScroll?r("v-progress-linear",{attrs:{indeterminate:!0}}):t._e()],1):t._e()],1)],1)]],2)},l=[],v=r("ed09"),d=r("8d7e"),m=Object(v["c"])({setup:function(){var t=Object(v["e"])("currentAccNumber"),e=Object(v["e"])("currentAccType"),r=Object(d["a"])(["getCustomerTransaction"]),n=r.getCustomerTransaction,a=Object(d["b"])(["getters_customer_transaction","getters_customer_transaction_meta","customer"]),s=a.getters_customer_transaction,c=a.getters_customer_transaction_meta,u=a.customer,l=Object(v["h"])({overlay:!0,loadingScroll:!1,page:1,isIntersecting:!1,items:[],headers:[{text:"CREDIT",value:"credit"},{text:"DEBIT",value:"debit"},{text:"BALANCE",value:"balance"},{text:"DATE",value:"created_at"}],isLoaded:!0}),m=Object(v["j"])(l),f=m.overlay,b=m.loadingScroll,p=m.page,_=m.isIntersecting,g=m.items,h=m.isLoaded;n({page:p.value,acc_number:t.value}).then((function(){g.value=s.value,f.value=!1})).finally((function(){return h.value=!1}));var y=function(e){_.value=e[0].isIntersecting,_.value?c.value.current_page>=c.value.last_page?b.value=!1:(p.value++,n({page:p.value,acc_number:t.value}).then((function(){b.value=!1,g.value=Object(i["a"])(new Set([].concat(Object(i["a"])(s.value),Object(i["a"])(g.value))))}))):b.value=!0};return Object(o["a"])(Object(o["a"])({},Object(v["j"])(l)),{},{getters_customer_transaction:s,intersected:y,currentAccNumber:t,currentAccType:e,customer:u})}}),f=m,b=r("2877"),p=Object(b["a"])(f,u,l,!1,null,null,null),_=p.exports,g=r("2b6f"),h=r("68fa"),y=r("126e"),x=r("1fac"),w={components:{PageHeader:s["a"],ViewCustomer:c["default"],NewCustomer:h["default"],Response:g["a"],ViewCustomerTransaction:_},props:["id"],setup:function(t,e){var r=Object(v["h"])({customerTransaction:!1,componentCurrent:null,openCustomer:!1,editCustomer:!1,newCustomer:!1,roleCustomer:!1,isIntersecting:!1,items:[],page:1,isLoaded:!0,headers:[{text:"CUSTOMER",value:"basic",sortable:!0},{text:"CONTACT",value:"contact",sortable:!0},{text:"ACTIONS",value:"actions",sortable:!1,align:"right"}],staffName:null,levelItem:"",deleteResponse:!1,absolute:!0,newFacultyText:"",basket:[{department_id:null,department_name:"",faculty_number:null}],loadingScroll:!1,basketDrawer:[],currentId:null,currentAccNumber:null,currentAccType:null}),n=Object(d["a"])(["customerList"]),a=n.customerList,s=Object(d["b"])(["getters_customers","getters_customers_meta"]),c=s.getters_customers,u=s.getters_customers_meta,l=Object(v["j"])(r),m=l.page,f=l.isIntersecting,b=l.loadingScroll,p=l.isLoaded,_=l.items,g=l.openCustomer,h=l.basket,w=l.currentId,C=l.editCustomer,k=l.newCustomer,j=l.roleCustomer,O=l.staffName,A=l.customerTransaction,T=l.currentAccNumber,S=l.currentAccType;a(m.value).then((function(){if(p.value=!1,_.value=c.value,t.id){switch(e.root.$route.name){case"Customer":g.value=!0;break;default:break}w.value=t.id}})).finally((function(){setTimeout((function(){switch(e.root.$route.name){case"AddCustomer":k.value=!0;break;default:break}}))}));var M=function(t){f.value=t[0].isIntersecting,f.value?u.value.current_page>=u.value.last_page?b.value=!1:(m.value++,a(m.value).then((function(){b.value=!1,_.value=Object(i["a"])(new Set([].concat(Object(i["a"])(c.value),Object(i["a"])(_.value))))}))):b.value=!0};x["a"].on("view-customer-transaction",(function(t){A.value=!0,T.value=t.number,S.value=t.type,h.value.push(A.value)}));var N=Object(y["a"])((function(t){g.value=!0,w.value=t.id,h.value.push(g.value),e.root._router.replace({path:"/user_management/customerlist/:/customer/".concat(w.value)})})),E=Object(y["a"])((function(t){j.value=!0,w.value=t.id,O.value=t.title_name,e.root._router.replace({path:"/user_management/stafflist/:/role/".concat(w.value)})})),D=function(){h.value=[],g.value=!1,C.value=!1,k.value=!1,j.value=!1,A.value=!1},I=function(){k.value=!0,h.value.push(k.value),e.root._router.replace({path:"/user_management/customerlist/:/addcustomer"})};return Object(v["g"])("customerId",w),Object(v["g"])("currentAccNumber",T),Object(v["g"])("currentAccType",S),Object(v["g"])("staffName",O),Object(o["a"])(Object(o["a"])({},Object(v["j"])(r)),{},{intersected:M,getters_customers:c,viewCustomerBtn:N,items:_,closeDrawer:D,addnewCustomer:I,roleCustomerBtn:E})}},C=w,k=(r("35aa"),Object(b["a"])(C,n,a,!1,null,"178bd3f1",null));e["default"]=k.exports},d28b:function(t,e,r){var n=r("746f");n("iterator")},e01a:function(t,e,r){"use strict";var n=r("23e7"),a=r("83ab"),o=r("da84"),i=r("e330"),s=r("1a2d"),c=r("1626"),u=r("3a9b"),l=r("577e"),v=r("9bf2").f,d=r("e893"),m=o.Symbol,f=m&&m.prototype;if(a&&c(m)&&(!("description"in f)||void 0!==m().description)){var b={},p=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),e=u(f,this)?new m(t):void 0===t?m():m(t);return""===t&&(b[e]=!0),e};d(p,m),p.prototype=f,f.constructor=p;var _="Symbol(test)"==String(m("test")),g=i(f.toString),h=i(f.valueOf),y=/^Symbol\((.*)\)[^)]+$/,x=i("".replace),w=i("".slice);v(f,"description",{configurable:!0,get:function(){var t=h(this),e=g(t);if(s(b,t))return"";var r=_?w(e,7,-1):x(e,y,"$1");return""===r?void 0:r}}),n({global:!0,forced:!0},{Symbol:p})}},eeb3:function(t,e,r){"use strict";r("6868")},f183:function(t,e,r){var n=r("23e7"),a=r("e330"),o=r("d012"),i=r("861d"),s=r("1a2d"),c=r("9bf2").f,u=r("241c"),l=r("057f"),v=r("90e3"),d=r("bb2f"),m=!1,f=v("meta"),b=0,p=Object.isExtensible||function(){return!0},_=function(t){c(t,f,{value:{objectID:"O"+b++,weakData:{}}})},g=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!s(t,f)){if(!p(t))return"F";if(!e)return"E";_(t)}return t[f].objectID},h=function(t,e){if(!s(t,f)){if(!p(t))return!0;if(!e)return!1;_(t)}return t[f].weakData},y=function(t){return d&&m&&p(t)&&!s(t,f)&&_(t),t},x=function(){w.enable=function(){},m=!0;var t=u.f,e=a([].splice),r={};r[f]=1,t(r).length&&(u.f=function(r){for(var n=t(r),a=0,o=n.length;a<o;a++)if(n[a]===f){e(n,a,1);break}return n},n({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},w=t.exports={enable:x,fastKey:g,getWeakData:h,onFreeze:y};o[f]=!0},fb6a:function(t,e,r){"use strict";var n=r("23e7"),a=r("da84"),o=r("e8b5"),i=r("68ee"),s=r("861d"),c=r("23cb"),u=r("07fa"),l=r("fc6a"),v=r("8418"),d=r("b622"),m=r("1dde"),f=r("f36a"),b=m("slice"),p=d("species"),_=a.Array,g=Math.max;n({target:"Array",proto:!0,forced:!b},{slice:function(t,e){var r,n,a,d=l(this),m=u(d),b=c(t,m),h=c(void 0===e?m:e,m);if(o(d)&&(r=d.constructor,i(r)&&(r===_||o(r.prototype))?r=void 0:s(r)&&(r=r[p],null===r&&(r=void 0)),r===_||void 0===r))return f(d,b,h);for(n=new(void 0===r?_:r)(g(h-b,0)),a=0;b<h;b++,a++)b in d&&v(n,a,d[b]);return n.length=a,n}})}}]);
//# sourceMappingURL=chunk-55c3370b.8f598627.js.map