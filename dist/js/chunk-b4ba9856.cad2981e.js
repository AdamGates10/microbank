(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b4ba9856"],{"1fac":function(t,e,n){"use strict";var r=function(t){return{all:t=t||new Map,on:function(e,n){var r=t.get(e);r?r.push(n):t.set(e,[n])},off:function(e,n){var r=t.get(e);r&&(n?r.splice(r.indexOf(n)>>>0,1):t.set(e,[]))},emit:function(e,n){var r=t.get(e);r&&r.slice().map((function(t){t(n)})),(r=t.get("*"))&&r.slice().map((function(t){t(e,n)}))}}},o=r();e["a"]=o},3661:function(t,e,n){},"67b4":function(t,e,n){"use strict";n("3661")},6868:function(t,e,n){},"99af":function(t,e,n){"use strict";var r=n("23e7"),o=n("da84"),s=n("d039"),a=n("e8b5"),c=n("861d"),i=n("7b0b"),u=n("07fa"),l=n("8418"),m=n("65f0"),v=n("1dde"),_=n("b622"),b=n("2d00"),d=_("isConcatSpreadable"),f=9007199254740991,p="Maximum allowed index exceeded",x=o.TypeError,y=b>=51||!s((function(){var t=[];return t[d]=!1,t.concat()[0]!==t})),g=v("concat"),k=function(t){if(!c(t))return!1;var e=t[d];return void 0!==e?!!e:a(t)},h=!y||!g;r({target:"Array",proto:!0,forced:h},{concat:function(t){var e,n,r,o,s,a=i(this),c=m(a,0),v=0;for(e=-1,r=arguments.length;e<r;e++)if(s=-1===e?a:arguments[e],k(s)){if(o=u(s),v+o>f)throw x(p);for(n=0;n<o;n++,v++)n in s&&l(c,v,s[n])}else{if(v>=f)throw x(p);l(c,v++,s)}return c.length=v,c}})},ae65:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{fluid:""}},[t.response?[t.customer?n("v-card",{attrs:{tile:"",flat:""}},[n("v-card-text",[n("v-row",{attrs:{align:"center"}},[n("v-col",{attrs:{cols:"12",lg:"6"}},[n("v-breadcrumbs",{staticClass:"pl-0",attrs:{large:"",items:t.breadcrumbs}})],1)],1),n("v-row",{attrs:{align:"center"}},[n("v-col",{attrs:{cols:"12",lg:"5"}},[n("v-avatar",{attrs:{size:"250",tile:""}},[n("img",{attrs:{src:t.customer.avatar_url,alt:""}})])],1),n("v-col",{attrs:{cols:"12",lg:"7"}},[n("v-list",{staticClass:"pt-0"},[n("v-list-item",{staticClass:"text-h4",domProps:{textContent:t._s(t.customer.other_names+" "+t.customer.last_name)}}),n("v-list-item",[n("v-list-item-icon",[n("v-icon",[t._v(" mdi-calendar-account-outline ")])],1),n("v-list-item-content",[n("v-list-item-title",{domProps:{innerHTML:t._s(""+t.moment(t.customer.dob).format("Do MMMM YYYY"))}})],1)],1),n("v-list-item",[n("v-list-item-icon",[n("v-icon",[t._v(" mdi-home-map-marker ")])],1),n("v-list-item-content",[n("v-list-item-title",{domProps:{innerHTML:t._s(""+t.customer.address)}})],1)],1),n("v-list-item",[n("v-list-item-icon",[n("v-icon",[t._v(" mdi-phone ")])],1),n("v-list-item-content",[n("v-list-item-title",[n("span",[t._v(" "+t._s(t.customer.mobile_number_1)+" ")]),t.customer.mobile_number_2?n("span",[t._v(" "+t._s(t.customer.mobile_number_2)+" ")]):t._e()])],1)],1),n("v-list-item",[n("v-list-item-icon",[n("v-icon",[t._v(" mdi-account-plus-outline ")])],1),n("v-list-item-content",[n("v-list-item-title",[n("span",[t._v(" "+t._s(t.customer.staff.name)+" ")])])],1)],1)],1)],1)],1)],1),n("v-tabs",{attrs:{"align-with-title":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[t._l(t.tabItems,(function(e){return n("v-tab",{key:e},[t._v(" "+t._s(e)+" ")])})),n("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("v-tab-item",[n("UserDetails",{scopedSlots:t._u([{key:"name",fn:function(){return[t._v(" "+t._s(t.customer.other_names+" "+t.customer.last_name)+" ")]},proxy:!0},{key:"dob",fn:function(){return[t._v(" "+t._s(""+t.moment(t.customer.dob).format("Do MMMM YYYY"))+" ")]},proxy:!0},{key:"address",fn:function(){return[n("div",{staticClass:"text-wrap"},[t._v(" "+t._s(""+t.customer.address)+" ")])]},proxy:!0},{key:"mobile_number",fn:function(){return[n("span",[t._v(" "+t._s(t.customer.mobile_number_1)+" ")]),t.customer.mobile_number_2?n("span",[t._v(" "+t._s(t.customer.mobile_number_2)+" ")]):t._e()]},proxy:!0},{key:"next_of_kin",fn:function(){return[t._v(" "+t._s(""+t.customer.next_of_kin)+" ")]},proxy:!0},{key:"kin_dob",fn:function(){return[t._v(" "+t._s(""+t.moment(t.customer.kin_dob).format("Do MMMM YYYY"))+" ")]},proxy:!0},{key:"kin_mobile_number",fn:function(){return[n("span",[t._v(" "+t._s(t.customer.kin_mobile_number_1)+" ")]),t.customer.kin_mobile_number_2?n("span",[t._v(" "+t._s(t.customer.kin_mobile_number_2)+" ")]):t._e()]},proxy:!0}],null,!1,3327897892)})],1),n("v-tab-item",[n("UserAccount")],1)],1)],2)],1):n("v-alert",{attrs:{prominent:"",type:"error"}},[t._v(" No Customer Found... ")])]:t._e(),n("v-overlay",{attrs:{absolute:"",opacity:"1"},model:{value:t.overlay,callback:function(e){t.overlay=e},expression:"overlay"}},[n("v-progress-circular",{attrs:{size:"64",indeterminate:""}})],1)],2)},o=[],s=n("5530"),a=(n("b0c0"),n("d3b7"),n("99af"),n("ed09")),c=n("8d7e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{fluid:""}},[n("v-simple-table",[n("tbody",[n("tr",[n("td",[t._v("Agent Name")]),n("td",[t._t("agent_name")],2)]),n("tr",[n("td",[t._v("Name")]),n("td",[t._t("name")],2)]),n("tr",[n("td",[t._v("Date of Birth")]),n("td",[t._t("dob")],2)]),n("tr",[n("td",[t._v("Address")]),n("td",[t._t("address")],2)]),n("tr",[n("td",[t._v("Mobile Number")]),n("td",[t._t("mobile_number")],2)]),n("tr",[n("td",[t._v("Next Of Kin")]),n("td",[t._t("next_of_kin")],2)]),n("tr",[n("td",[t._v("Next Of Kin Mobile Number")]),n("td",[t._t("kin_mobile_number")],2)]),n("tr",[n("td",[t._v("Next Of Kin Date of Birth")]),n("td",[t._t("kin_dob")],2)])])])],1)},u=[],l=(n("67b4"),n("2877")),m={},v=Object(l["a"])(m,i,u,!1,null,"439d3d32",null),_=v.exports,b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{fluid:""}},t._l(t.accounts,(function(e,r){return n("div",{key:"account"+r},[n("v-card",{staticClass:"mb-2",attrs:{tile:"",outlined:"",rounded:"0"}},[n("v-toolbar",{attrs:{color:"primary",dark:"",outlined:"",elevation:"0"}},[n("v-toolbar-title",[t._v(" "+t._s(r)+" Account ")]),n("v-spacer"),n("v-toolbar-title",[t._v(" "+t._s(e.length)+" "+t._s(e.length>1?"Accounts":"Account")+" ")])],1),n("v-card-text",t._l(e,(function(e,o){return n("div",{key:"div"+o},[n("v-list",[n("v-list-item",[n("v-list-item-content",[n("v-card",{attrs:{outlined:""}},[n("v-card-text",[n("v-row",{attrs:{align:"center"}},[n("v-col",[n("v-list-item-title",[t._v("Account Number ")]),n("v-list-item-subtitle",[t._v(" "+t._s(e.acc)+" ")])],1),n("v-col",[n("v-list-item-title",[t._v(" Date Created ")]),n("v-list-item-subtitle",[t._v(" "+t._s(t.moment(e.created).format("Do MMMM YYYY"))+" ")])],1),n("v-col",{staticClass:"text-right",attrs:{cols:"12",lg:"2"}},[n("v-list-item-title",[n("v-btn",{attrs:{"x-large":"",color:"success",icon:""},on:{click:function(n){return t.viewTransaction(e.acc,r)}}},[n("v-icon",{attrs:{"x-large":""}},[t._v("mdi-bank-transfer")])],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)})),0)],1)],1)})),0)},d=[],f=n("1fac"),p=Object(a["c"])({setup:function(){var t=Object(c["b"])(["customer"]),e=t.customer,n=Object(a["h"])({accounts:[],window:0}),r=Object(a["j"])(n),o=r.accounts;Object(a["f"])((function(){o.value=e.value.accounts.reduce((function(t,e){var n=e.account_name;return t[n]||(t[n]=[]),t[n].push({acc:e.customer_account.account_number,created:e.customer_account.created_at}),t}),{})}));var i=function(t,e){f["a"].emit("view-customer-transaction",{number:t,type:e})};return Object(s["a"])(Object(s["a"])({customer:e},Object(a["j"])(n)),{},{viewTransaction:i})}}),x=p,y=(n("eeb3"),Object(l["a"])(x,b,d,!1,null,"10c9a6e0",null)),g=y.exports,k=Object(a["c"])({components:{UserDetails:_,UserAccount:g},setup:function(t,e){var n=Object(c["a"])(["getCustomer"]),r=n.getCustomer,o=Object(c["b"])(["customer"]),i=o.customer,u=Object(a["e"])("customerId"),l=Object(a["h"])({overlay:!0,pageTitle:e.root.$route.name,breadcrumbs:[],tab:null,tabItems:["Customer Details","Account Details"],response:!1}),m=Object(a["j"])(l),v=m.overlay,_=m.breadcrumbs,b=m.response;r(u.value).then((function(){_.value=[{text:"Customer List",disabled:!1,href:"/user_management/customerlist"},{text:"".concat(i.value.other_names," ").concat(i.value.last_name),disabled:!0}]})).finally((function(){v.value=!1,b.value=!0}));var d=function(){};return Object(s["a"])({customer:i,editCustomer:d},Object(a["j"])(l))}}),h=k,j=Object(l["a"])(h,r,o,!1,null,null,null);e["default"]=j.exports},b0c0:function(t,e,n){var r=n("83ab"),o=n("5e77").EXISTS,s=n("e330"),a=n("9bf2").f,c=Function.prototype,i=s(c.toString),u=/^\s*function ([^ (]*)/,l=s(u.exec),m="name";r&&!o&&a(c,m,{configurable:!0,get:function(){try{return l(u,i(this))[1]}catch(t){return""}}})},eeb3:function(t,e,n){"use strict";n("6868")}}]);
//# sourceMappingURL=chunk-b4ba9856.cad2981e.js.map